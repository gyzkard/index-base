<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>index-base: Examples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">index-base
   </div>
   <div id="projectbrief">Strong types to distinguish between zero, one or other numbers based indexes.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_examples.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Examples </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="simple"></a>
simple examples</h1>
<h2><a class="anchor" id="hello-index-base"></a>
hello index-base</h2>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> example1()</div>
<div class="line">    {</div>
<div class="line">        assert(2 * 2 == 4);</div>
<div class="line">        assert(2 * 2_i1 == 4_i1);</div>
<div class="line">        assert(2_i1 * 2 == 4_i1);</div>
<div class="line">        assert(2 * 2_i1 == 3); <span class="comment">// casting to the base value type means casting to the zero base</span></div>
<div class="line">        assert(2_i1 * 2 == 3);</div>
<div class="line">        <span class="comment">// it&#39;s not allowed to multiply (or divide) two indices 2_i1 * 2_i1</span></div>
<div class="line">    }</div>
</div><!-- fragment --><div class="fragment"><div class="line">    <span class="keywordtype">void</span> example2()</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">int</span> data[] = {2, 3};</div>
<div class="line">        <span class="keywordtype">int</span> sum = 0;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 1_i1; i &lt;= Indexed_i1{int(<span class="keyword">sizeof</span>(data) / <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>))}; ++i)</div>
<div class="line">            sum += data[i] * <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(i);</div>
<div class="line"> </div>
<div class="line">        assert(sum == 3); <span class="comment">// 2*0 + 3*1</span></div>
<div class="line">    }</div>
</div><!-- fragment --><div class="fragment"><div class="line">    <span class="keywordtype">void</span> example3()</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">int</span> data[] = {2, 3};</div>
<div class="line">        <span class="keywordtype">int</span> sum = 0;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 1_i1; i &lt;= Indexed_i1{int(<span class="keyword">sizeof</span>(data) / <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>))}; ++i)</div>
<div class="line">            sum += <span class="keywordtype">int</span>(data[i] * i);</div>
<div class="line"> </div>
<div class="line">        assert(sum == 6); <span class="comment">// (2*1)-1 + (3*2)-1</span></div>
<div class="line">    }</div>
</div><!-- fragment --><div class="fragment"><div class="line">    <span class="keywordtype">void</span> example4()</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">int</span> data[] = {2, 3};</div>
<div class="line">        Indexed_i1 sum = 1_i1;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 1_i1; i &lt;= Indexed_i1{int(<span class="keyword">sizeof</span>(data) / <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>))}; ++i)</div>
<div class="line">            sum += data[i] * i;</div>
<div class="line"> </div>
<div class="line">        assert(sum == 9_i1 &amp;&amp; sum == 8); <span class="comment">// 1 + 2*1 + 3*2</span></div>
<div class="line">    }</div>
</div><!-- fragment --> <h2><a class="anchor" id="simple-example"></a>
simple example</h2>
<p>Legacy implementation with explicit index base conversion </p><div class="fragment"><div class="line">    <span class="keyword">struct </span>OldOneBasedApiWithoutIndexedBase</div>
<div class="line">    {</div>
<div class="line">        std::string data_;</div>
<div class="line">        std::string <span class="keyword">const</span>&amp; rawData()</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> data_;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        OldOneBasedApiWithoutIndexedBase()</div>
<div class="line">          : data_(<span class="stringliteral">&quot;One based index&quot;</span>)</div>
<div class="line">        {}</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">int</span> getStartIndex()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">        </span>{</div>
<div class="line">            <span class="keywordflow">return</span> 5;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordtype">int</span> getEndIndex()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">        </span>{</div>
<div class="line">            <span class="keywordflow">return</span> 10;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        std::string::value_type operator[](<span class="keywordtype">int</span> index)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">        </span>{</div>
<div class="line">            <span class="keywordflow">return</span> data_[index - 1];</div>
<div class="line">        }</div>
<div class="line">    };</div>
<div class="line">    <span class="keywordtype">void</span> example1()</div>
<div class="line">    {</div>
<div class="line">        OldOneBasedApiWithoutIndexedBase obi1;</div>
<div class="line"> </div>
<div class="line">        std::stringstream ss0;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = obi1.getStartIndex(); i &lt; obi1.getEndIndex(); ++i)</div>
<div class="line">            ss0 &lt;&lt; obi1.rawData()[i - 1];</div>
<div class="line"> </div>
<div class="line">        std::stringstream ss1;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = obi1.getStartIndex(); i &lt; obi1.getEndIndex(); ++i)</div>
<div class="line">            ss1 &lt;&lt; obi1[i];</div>
<div class="line"> </div>
<div class="line">        assert(ss0.str() == ss1.str());</div>
<div class="line">    }</div>
</div><!-- fragment --><p> After refactoring to index-base </p><div class="fragment"><div class="line">    <span class="keyword">struct </span>OneBasedApi</div>
<div class="line">    {</div>
<div class="line">        std::string data_;</div>
<div class="line">        std::string <span class="keyword">const</span>&amp; rawData()</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> data_;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        OneBasedApi()</div>
<div class="line">          : data_(<span class="stringliteral">&quot;One based index&quot;</span>)</div>
<div class="line">        {}</div>
<div class="line"> </div>
<div class="line">        Indexed_i1 getStartIndex()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">        </span>{</div>
<div class="line">            <span class="keywordflow">return</span> 5_i1;</div>
<div class="line">        }</div>
<div class="line">        Indexed_i1 getEndIndex()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">        </span>{</div>
<div class="line">            <span class="keywordflow">return</span> 10_i1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        std::string::value_type operator[](Indexed_i1 index)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">        </span>{</div>
<div class="line">            <span class="keywordflow">return</span> data_[index];</div>
<div class="line">        }</div>
<div class="line">    };</div>
<div class="line">    <span class="keywordtype">void</span> example2()</div>
<div class="line">    {</div>
<div class="line">        OneBasedApi obi1;</div>
<div class="line"> </div>
<div class="line">        std::stringstream ss0;</div>
<div class="line">        <span class="keywordflow">for</span> (Indexed_i1 i = obi1.getStartIndex(); i &lt; obi1.getEndIndex(); ++i)</div>
<div class="line">            ss0 &lt;&lt; obi1.rawData()[i];</div>
<div class="line"> </div>
<div class="line">        std::stringstream ss1;</div>
<div class="line">        <span class="keywordflow">for</span> (Indexed_i1 i = obi1.getStartIndex(); i &lt; obi1.getEndIndex(); ++i)</div>
<div class="line">            ss1 &lt;&lt; obi1[i];</div>
<div class="line"> </div>
<div class="line">        assert(ss0.str() == ss1.str());</div>
<div class="line">    }</div>
</div><!-- fragment --><h1><a class="anchor" id="customization"></a>
customization examples</h1>
<p>A base value type class</p>
<div class="fragment"><div class="line">        <span class="keyword">struct </span>Bi</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">using</span> value_type = int;</div>
<div class="line">            <span class="keyword">using</span> diff_type = int;</div>
<div class="line"> </div>
<div class="line">            value_type i_;</div>
<div class="line"> </div>
<div class="line">            constexpr Bi()</div>
<div class="line">              : i_()</div>
<div class="line">            {}</div>
<div class="line">            <span class="comment">// CWG2327 workaround http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_active.html#2327</span></div>
<div class="line">            template&lt;typename T, typename std::enable_if&lt;inba::cv_ref_removed_is_same&lt;T, value_type&gt;::value, <span class="keywordtype">bool</span>&gt;::type = <span class="keyword">true</span>&gt;</div>
<div class="line">            constexpr Bi(T v)</div>
<div class="line">              : i_(v)</div>
<div class="line">            {}</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// CWG2327 workaround http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_active.html#2327</span></div>
<div class="line">            constexpr <span class="keyword">operator</span> value_type() const noexcept</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> i_;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            constexpr Bi <span class="keyword">const</span>&amp; operator+() const noexcept</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line">            constexpr Bi operator+(Bi <span class="keyword">const</span>&amp; o) <span class="keyword">const</span> noexcept(INBA_NOEXCEPT_OP(Bi(i_ + o.i_)))</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> Bi(i_ + o.i_);</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            INBA_CONSTEXPR_11 Bi&amp; operator+=(Bi <span class="keyword">const</span>&amp; o) noexcept(INBA_NOEXCEPT_OP(i_ += o.i_))</div>
<div class="line">            {</div>
<div class="line">                i_ += o.i_;</div>
<div class="line">                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line">            INBA_CONSTEXPR_11 Bi&amp; operator+=(value_type v) noexcept(INBA_NOEXCEPT_OP(i_ += v))</div>
<div class="line">            {</div>
<div class="line">                i_ += v;</div>
<div class="line">                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            constexpr Bi operator-() const noexcept(INBA_NOEXCEPT_OP(Bi(-i_)))</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> Bi(-i_);</div>
<div class="line">            }</div>
<div class="line">            constexpr diff_type operator-(Bi <span class="keyword">const</span>&amp; o) <span class="keyword">const</span> noexcept(INBA_NOEXCEPT_OP(diff_type(i_ - o.i_)))</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> i_ - o.i_;</div>
<div class="line">            }</div>
<div class="line">            INBA_CONSTEXPR_11 Bi&amp; operator-=(Bi <span class="keyword">const</span>&amp; o) noexcept(INBA_NOEXCEPT_OP(i_ -= o.i_))</div>
<div class="line">            {</div>
<div class="line">                i_ -= o.i_;</div>
<div class="line">                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line">            INBA_CONSTEXPR_11 Bi&amp; operator-=(value_type v) noexcept(INBA_NOEXCEPT_OP(i_ -= v))</div>
<div class="line">            {</div>
<div class="line">                i_ -= v;</div>
<div class="line">                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line">            constexpr Bi operator*(Bi <span class="keyword">const</span>&amp; o) <span class="keyword">const</span> noexcept(INBA_NOEXCEPT_OP(Bi(i_* o.i_)))</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> Bi(i_ * o.i_);</div>
<div class="line">            }</div>
<div class="line">            INBA_CONSTEXPR_11 Bi&amp; operator*=(value_type i) noexcept(INBA_NOEXCEPT_OP(i_ *= i))</div>
<div class="line">            {</div>
<div class="line">                i_ *= i;</div>
<div class="line">                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line">            INBA_CONSTEXPR_11 Bi&amp; operator*=(Bi <span class="keyword">const</span>&amp; o) noexcept(INBA_NOEXCEPT_OP(i_ *= o.i_))</div>
<div class="line">            {</div>
<div class="line">                i_ *= o.i_;</div>
<div class="line">                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line">            constexpr Bi operator/(Bi <span class="keyword">const</span>&amp; o) <span class="keyword">const</span> noexcept(INBA_NOEXCEPT_OP(Bi(i_ / o.i_)))</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> Bi(i_ / o.i_);</div>
<div class="line">            }</div>
<div class="line">            INBA_CONSTEXPR_11 Bi&amp; operator/=(value_type i) noexcept(INBA_NOEXCEPT_OP(i_ /= i))</div>
<div class="line">            {</div>
<div class="line">                i_ /= i;</div>
<div class="line">                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line">            INBA_CONSTEXPR_11 Bi&amp; operator/=(Bi <span class="keyword">const</span>&amp; o) noexcept(INBA_NOEXCEPT_OP(i_ /= o.i_))</div>
<div class="line">            {</div>
<div class="line">                i_ /= o.i_;</div>
<div class="line">                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            INBA_CONSTEXPR_11 Bi&amp; operator++() &amp; noexcept(INBA_NOEXCEPT_OP(++i_))</div>
<div class="line">            {</div>
<div class="line">                ++i_;</div>
<div class="line">                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line">            INBA_CONSTEXPR_11 Bi operator++(<span class="keywordtype">int</span>) &amp; noexcept(INBA_NOEXCEPT_OP(Bi(++(*<span class="keyword">this</span>))))</div>
<div class="line">            {</div>
<div class="line">                Bi result(*<span class="keyword">this</span>);</div>
<div class="line">                ++(*this);</div>
<div class="line">                <span class="keywordflow">return</span> result;</div>
<div class="line">            }</div>
<div class="line">            INBA_CONSTEXPR_11 Bi&amp; operator--() &amp; noexcept(INBA_NOEXCEPT_OP(--i_))</div>
<div class="line">            {</div>
<div class="line">                --i_;</div>
<div class="line">                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line">            INBA_CONSTEXPR_11 Bi operator--(<span class="keywordtype">int</span>) &amp; noexcept(INBA_NOEXCEPT_OP(Bi(--(*<span class="keyword">this</span>))))</div>
<div class="line">            {</div>
<div class="line">                Bi result(*<span class="keyword">this</span>);</div>
<div class="line">                --(*this);</div>
<div class="line">                <span class="keywordflow">return</span> result;</div>
<div class="line">            }</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">inline</span> constexpr Bi operator+(Bi <span class="keyword">const</span>&amp; left, Bi::value_type right) noexcept(INBA_NOEXCEPT_OP(Bi(left.i_ + right)))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> Bi(left.i_ + right);</div>
<div class="line">        }</div>
<div class="line">        <span class="keyword">inline</span> constexpr Bi operator+(Bi::value_type <span class="keyword">const</span>&amp; left, Bi right) noexcept(INBA_NOEXCEPT_OP(Bi(left + right.i_)))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> Bi(left + right.i_);</div>
<div class="line">        }</div>
<div class="line">        <span class="keyword">inline</span> constexpr Bi operator-(Bi <span class="keyword">const</span>&amp; left, Bi::value_type right) noexcept(INBA_NOEXCEPT_OP(Bi(left.i_ - right)))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> Bi(left.i_ - right);</div>
<div class="line">        }</div>
<div class="line">        <span class="keyword">inline</span> constexpr Bi operator*(Bi <span class="keyword">const</span>&amp; left, Bi::value_type right) noexcept(INBA_NOEXCEPT_OP(Bi(left.i_* right)))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> Bi(left.i_ * right);</div>
<div class="line">        }</div>
<div class="line">        <span class="keyword">inline</span> constexpr Bi operator*(Bi::value_type <span class="keyword">const</span>&amp; left, Bi right) noexcept(INBA_NOEXCEPT_OP(Bi(left* right.i_)))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> Bi(left * right.i_);</div>
<div class="line">        }</div>
<div class="line">        <span class="keyword">inline</span> constexpr Bi operator/(Bi <span class="keyword">const</span>&amp; left, Bi::value_type right) noexcept(INBA_NOEXCEPT_OP(Bi(left.i_ / right)))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> Bi(left.i_ / right);</div>
<div class="line">        }</div>
<div class="line">        <span class="keyword">inline</span> constexpr Bi operator/(Bi::value_type <span class="keyword">const</span>&amp; left, Bi right) noexcept(INBA_NOEXCEPT_OP(Bi(left / right.i_)))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> Bi(left / right.i_);</div>
<div class="line">        }</div>
</div><!-- fragment --> <h2><a class="anchor" id="cpp20"></a>
c++20</h2>
<p>User defined literals and typedef with c++20 class non-type template parameters</p>
<div class="fragment"><div class="line">        <span class="keyword">inline</span> <a class="code" href="structinba_1_1_indexed.html">inba::Indexed</a>&lt;Bi, Bi{0}&gt; <span class="keyword">operator</span><span class="stringliteral">&quot;&quot;</span> _bi0(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> i)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="structinba_1_1_indexed.html">inba::Indexed</a>&lt;Bi, Bi{0}&gt;(Bi{(int)i});</div>
<div class="line">        }</div>
<div class="line">        <span class="keyword">inline</span> <a class="code" href="structinba_1_1_indexed.html">inba::Indexed</a>&lt;Bi, Bi{1}&gt; <span class="keyword">operator</span><span class="stringliteral">&quot;&quot;</span> _bi1(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> i)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="structinba_1_1_indexed.html">inba::Indexed</a>&lt;Bi, Bi{1}&gt;(Bi{(int)i});</div>
<div class="line">        }</div>
<div class="ttc" id="astructinba_1_1_indexed_html"><div class="ttname"><a href="structinba_1_1_indexed.html">inba::Indexed</a></div><div class="ttdoc">strong index type with base value</div><div class="ttdef"><b>Definition:</b> inba.hpp:780</div></div>
</div><!-- fragment --><div class="fragment"><div class="line">        <span class="keyword">using</span> Indexed_Bi0 = <a class="code" href="structinba_1_1_indexed.html">inba::Indexed</a>&lt;Bi, Bi{0}&gt;;</div>
<div class="line">        <span class="keyword">using</span> Indexed_Bi1 = <a class="code" href="structinba_1_1_indexed.html">inba::Indexed</a>&lt;Bi, Bi{1}&gt;;</div>
</div><!-- fragment --> <h2><a class="anchor" id="preCpp20"></a>
pre c++20</h2>
<p>User defined literals and typedef the pre c++20 way</p>
<div class="fragment"><div class="line">        <span class="keyword">inline</span> <a class="code" href="structinba_1_1_indexed.html">inba::Indexed&lt;Bi, inba::cnttp::CreateIndexedHelper&lt;Bi, int, 0&gt;</a>&gt; <span class="keyword">operator</span><span class="stringliteral">&quot;&quot;</span> _bi0(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> i)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="structinba_1_1_indexed.html">inba::Indexed&lt;Bi, inba::cnttp::CreateIndexedHelper&lt;Bi, int, 0&gt;</a>&gt;(Bi{(int)i});</div>
<div class="line">        }</div>
<div class="line">        <span class="keyword">inline</span> <a class="code" href="structinba_1_1_indexed.html">inba::Indexed&lt;Bi, inba::cnttp::CreateIndexedHelper&lt;Bi, int, 1&gt;</a>&gt; <span class="keyword">operator</span><span class="stringliteral">&quot;&quot;</span> _bi1(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> i)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code" href="structinba_1_1_indexed.html">inba::Indexed&lt;Bi, inba::cnttp::CreateIndexedHelper&lt;Bi, int, 1&gt;</a>&gt;(Bi{(int)i});</div>
<div class="line">        }</div>
</div><!-- fragment --><div class="fragment"><div class="line">        <span class="keyword">using</span> Indexed_Bi0 = <a class="code" href="structinba_1_1_indexed.html">inba::Indexed&lt;Bi, inba::cnttp::CreateIndexedHelper&lt;Bi, int, 0&gt;</a>&gt;;</div>
<div class="line">        <span class="keyword">using</span> Indexed_Bi1 = <a class="code" href="structinba_1_1_indexed.html">inba::Indexed&lt;Bi, inba::cnttp::CreateIndexedHelper&lt;Bi, int, 1&gt;</a>&gt;;</div>
</div><!-- fragment --><h1><a class="anchor" id="ranges"></a>
ranges examples</h1>
<h2><a class="anchor" id="built-in-types"></a>
built in types</h2>
<div class="fragment"><div class="line">        std::array&lt;Indexed_i0, 4&gt; ai0;</div>
<div class="line">        std::array&lt;Indexed_i1, 4&gt; ai1;</div>
<div class="line">        std::ranges::generate(ai0, [n = 0]() <span class="keyword">mutable</span> { <span class="keywordflow">return</span> Indexed_i0(n++); });</div>
<div class="line">        std::ranges::generate(ai1, [n = 1]() <span class="keyword">mutable</span> { <span class="keywordflow">return</span> Indexed_i1(n++); });</div>
<div class="line">        INBA_REQUIRE(std::ranges::equal(ai0, ai1));</div>
</div><!-- fragment --> <h2><a class="anchor" id="base-value-class"></a>
base value class</h2>
<div class="fragment"><div class="line"><span class="keyword">namespace</span></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    <span class="keyword">class </span>Bi_EqProxy</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">template</span>&lt;<span class="keyword">typename</span>&gt;</div>
<div class="line">        <span class="keyword">friend</span> <span class="keyword">class </span>Bi_EqProxy;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span>:</div>
<div class="line">        T ref_;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> U&gt;</div>
<div class="line">        requires std::convertible_to&lt;U, T&gt; constexpr Bi_EqProxy(U ref)</div>
<div class="line">          : ref_(ref)</div>
<div class="line">        {}</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> U&gt;</div>
<div class="line">        requires std::equality_comparable_with&lt;T, U&gt; constexpr <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> Bi_EqProxy&lt;U&gt;&amp; rhs)<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">        </span>{</div>
<div class="line">            <span class="keywordflow">return</span> ref_ == rhs.ref_;</div>
<div class="line">        };</div>
<div class="line">    };</div>
<div class="line">}</div>
<div class="line"><span class="keyword">namespace </span>std</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">using</span> inba::tests::Bi;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">template</span>&lt;<span class="keyword">typename</span>&gt; <span class="keyword">class </span>LQ, <span class="keyword">template</span>&lt;<span class="keyword">typename</span>&gt; <span class="keyword">class </span>RQ&gt;</div>
<div class="line">    <span class="keyword">struct </span>basic_common_reference&lt;inba::Indexed&lt;Bi, Bi{0}&gt;, <a class="code" href="structinba_1_1_indexed.html">inba::Indexed</a>&lt;Bi, Bi{1}&gt;, LQ, RQ&gt;</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">using</span> type = Bi_EqProxy&lt;Bi&gt;;</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">template</span>&lt;<span class="keyword">typename</span>&gt; <span class="keyword">class </span>LQ, <span class="keyword">template</span>&lt;<span class="keyword">typename</span>&gt; <span class="keyword">class </span>RQ&gt;</div>
<div class="line">    <span class="keyword">struct </span>basic_common_reference&lt;inba::Indexed&lt;Bi, Bi{1}&gt;, <a class="code" href="structinba_1_1_indexed.html">inba::Indexed</a>&lt;Bi, Bi{0}&gt;, LQ, RQ&gt;</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">using</span> type = Bi_EqProxy&lt;Bi&gt;;</div>
<div class="line">    };</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line">        std::array&lt;Indexed_Bi0, 4&gt; ai0;</div>
<div class="line">        std::array&lt;Indexed_Bi1, 4&gt; ai1;</div>
<div class="line">        std::ranges::generate(ai0, [n = 0]() <span class="keyword">mutable</span> { <span class="keywordflow">return</span> Indexed_Bi0(n++); });</div>
<div class="line">        std::ranges::generate(ai1, [n = 1]() <span class="keyword">mutable</span> { <span class="keywordflow">return</span> Indexed_Bi1(n++); });</div>
<div class="line">        INBA_REQUIRE(std::ranges::equal(ai0, ai1));</div>
</div><!-- fragment --></div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
